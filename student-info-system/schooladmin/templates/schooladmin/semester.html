{% extends 'base.html' %}
{% load static %}
{% load bootstrap3 %}
{% load render_table from django_tables2 %}

{% block title %}{% endblock title %}
{% block header_name %}{% endblock header_name %}

{% block css %}
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
<link rel="stylesheet" href="{% static 'schooladmin/styles.css' %}">
{% endblock css %}

{% block content %}
<h2>Semester {{ semester.semester }}:</h2>
<h2>Year {{ semester.year }}:</h2>
<h2>Start Date {{ semester.date_started }}:</h2>
<h2>End Date {{ semester.date_ended }}:</h2>
<h2>Registration Open {{ semester.date_registration_opens }}:</h2>
<h2>Last Drop Date {{ semester.date_last_drop }}:</h2>

    <div id="Sections">
        <h3>Sections:</h3>
        <div class="data-table-alt"
            {% render_table sections 'django_tables2/bootstrap.html' %}
        </div>
    </div>

     <input id="new_section"
        action="action"
           class="btn btn-info"
        value="New Section"
    />

    <input
        action="action"
           class="btn btn-info"
        onclick="window.history.go(-1); return false;"
        value="Back"
    />
<script>
function selectSection(evt) {
    var id = this.getAttribute('data-id');
    var url = "{% url 'schooladmin:section' sectionid=1234599 %}".replace(/1234599/, id.toString());
    open(url,'_self');
}

function new_section(evt) {
    open('/schooladmin/semester/{{ semester.id }}/section_new','_self');
    return false;
}
btn = document.getElementById("new_section");
if ( btn ) {
    btn.addEventListener("click", new_section);
}

var tablerows = document.getElementsByClassName('section_row')
for (var i=0, len=tablerows.length; i<len; i=i+1) {
    tablerows[i].addEventListener("click", selectSection, false);
}

</script>
{% endblock %}
