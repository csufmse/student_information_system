{% extends 'base.html' %}

{% block title %}Student Portal: Registration{% endblock %}

{% block header_name %} Registration {% endblock %}

{% block content %}
<form action="{% url 'student:registration' %}" method="post">
{% csrf_token %}
  <select name="semester">
  {% for semester in semesters %}
    <option name="{{semester.name}}" value={{semester.name}}>{{semester.name}}</option>
  {% endfor %}
  </select>
  <input type="submit" name="Select Semester">
</form>

  {% if not courses %}
    <p>No courses offered</P>
  {% else %}
    <form action="{% url 'student:registration' %}" method="post">
    {% csrf_token %}
      <table>
      <tr>
        <th>Number</th>
        <th>Title</th>
        <th>Credits</th>
        <th>Description</th>
        <th>Prerequisites</th>
        <th>Section Number</th>
        <th>Professor</th>
        <th>Schedule</th>
        <th>Open Seats</th>
        <th>Select</th>
      </tr>
      {% for section in sections %}
        <tr>
          <td>{{section.course_name}}</td>
          <td>{{section.course.title}}</td>
          <td>{{section.course.credits_earned}}</td>
          <td>{{section.course.description}}</td>
          <td>{% for prereq in section.course.prereqs.all %}{{prereq}}{% endfor %}</td>
          <td>{{section.number}}</td>
          <td>{{section.professor_name}}</td>
          <td>{{section.hours}}</td>
          <td>{{section.capacity}}</td>
          <td><input type="radio" name="section" value="{{section.id}}"><td>
        </tr>
      {% endfor %}
  {% endif %}
  </table>
<input type="submit" name="Register">
</form>
{% endblock content %}
    
